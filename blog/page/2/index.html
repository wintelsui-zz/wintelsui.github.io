<!DOCTYPE html>
<!--[if IE 6]>
<html id="ie6" lang="zh-CN">
<![endif]-->
<!--[if IE 7]>
<html id="ie7" lang="zh-CN">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="zh-CN">
<![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8)  ]><!-->
<html lang="zh-CN">
<!--<![endif]-->
<head>
	<meta charset="UTF-8" />
	<title>Garan no dou | 一只魔法师的工坊</title>
			
	
	<link rel="pingback" href="https://blog.ibireme.com/xmlrpc.php" />

		<!--[if lt IE 9]>
	<script src="https://blog.ibireme.com/wp-content/themes/Divi/js/html5.js" type="text/javascript"></script>
	<![endif]-->

	<script type="text/javascript">
		document.documentElement.className = 'js';
	</script>

	<link rel='dns-prefetch' href='https://fonts.googleapis.com' />
<link rel='dns-prefetch' href='https://s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Garan no dou &raquo; Feed" href="../../feed/index.rss" />
<link rel="alternate" type="application/rss+xml" title="Garan no dou &raquo; 评论Feed" href="../../comments/feed/index.rss" />
<meta content="Divi v.2.5.3" name="generator"/><link rel='stylesheet' id='scap.flashblock-css'  href='../../wp-content/plugins/compact-wp-audio-player/css/flashblock-ver=4.8.8.css' type='text/css' media='all' />
<link rel='stylesheet' id='scap.player-css'  href='../../wp-content/plugins/compact-wp-audio-player/css/player-ver=4.8.8.css' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-css'  href='../../wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min-ver=_2.7.2_beta.css' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-familiar-mynew-css'  href='../../wp-content/uploads/crayon-syntax-highlighter/themes/familiar-mynew/familiar-mynew-ver=_2.7.2_beta.css' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-consolas-css'  href='../../wp-content/plugins/crayon-syntax-highlighter/fonts/consolas-ver=_2.7.2_beta.css' type='text/css' media='all' />
<link rel='stylesheet' id='wp-easyarchives-css'  href='../../wp-content/plugins/wp-easyarchives/css/wp-easyarchives-ver=3.1.2.css' type='text/css' media='screen' />
<link rel='stylesheet' id='math-captcha-frontend-css'  href='../../wp-content/plugins/wp-math-captcha/css/frontend-ver=4.8.8.css' type='text/css' media='all' />
<link rel='stylesheet' id='wp-pagenavi-css'  href='../../wp-content/plugins/wp-pagenavi/pagenavi-css-ver=2.70.css' type='text/css' media='all' />
<link rel='stylesheet' id='divi-fonts-css'  href='https://fonts.googleapis.ibireme.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800&amp;subset=latin,latin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='et-gf-chinese-css'  href='https://fonts.googleapis.ibireme.com/earlyaccess/cwtexfangsong.css' type='text/css' media='all' />
<link rel='stylesheet' id='divi-style-css'  href='../../wp-content/themes/Divi/style-ver=2.5.3.css' type='text/css' media='all' />
<link rel='stylesheet' id='et-shortcodes-css-css'  href='../../wp-content/themes/Divi/epanel/shortcodes/css/shortcodes-ver=3.0.css' type='text/css' media='all' />
<link rel='stylesheet' id='et-shortcodes-responsive-css-css'  href='../../wp-content/themes/Divi/epanel/shortcodes/css/shortcodes_responsive-ver=3.0.css' type='text/css' media='all' />
<script type='text/javascript' src='../../wp-content/plugins/compact-wp-audio-player/js/soundmanager2-nodebug-jsmin-ver=4.8.8.js'></script>
<script type='text/javascript' src='../../wp-includes/js/jquery/jquery-ver=1.12.4.js'></script>
<script type='text/javascript' src='../../wp-includes/js/jquery/jquery-migrate.min-ver=1.4.1.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"https:\/\/blog.ibireme.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='../../wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min-ver=_2.7.2_beta.js'></script>
<script type='text/javascript' src='../../wp-content/plugins/simplesmileyshow/jquery.insertatcaret.js'></script>
<link rel='https://api.w.org/' href='../../wp-json/index.json' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc.php-rsd.xml" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.8.8" />

<!-- Generated By Show-UserAgent 1.0.8 - http://zlz.im/show-useragent/ -->
<link rel="stylesheet" href="../../wp-content/plugins/show-useragent/show-useragent.css" type="text/css" media="screen" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />		<style id="theme-customizer-css">.woocommerce #respond input#submit, .woocommerce-page #respond input#submit, .woocommerce #content input.button, .woocommerce-page #content input.button, .woocommerce-message, .woocommerce-error, .woocommerce-info { background: #a9d300 !important; }
			#et_search_icon:hover, .mobile_menu_bar:before, .et-social-icon a:hover, .et_pb_sum, .et_pb_pricing li a, .et_pb_pricing_table_button, .et_overlay:before, .entry-summary p.price ins, .woocommerce div.product span.price, .woocommerce-page div.product span.price, .woocommerce #content div.product span.price, .woocommerce-page #content div.product span.price, .woocommerce div.product p.price, .woocommerce-page div.product p.price, .woocommerce #content div.product p.price, .woocommerce-page #content div.product p.price, .et_pb_member_social_links a:hover, .woocommerce .star-rating span:before, .woocommerce-page .star-rating span:before, .et_pb_widget li a:hover, .et_pb_filterable_portfolio .et_pb_portfolio_filters li a.active, .et_pb_filterable_portfolio .et_pb_portofolio_pagination ul li a.active, .et_pb_gallery .et_pb_gallery_pagination ul li a.active, .wp-pagenavi span.current, .wp-pagenavi a:hover, .nav-single a, .posted_in a { color: #a9d300; }
			.et_pb_contact_submit, .et_password_protected_form .et_submit_button, .et_pb_bg_layout_light .et_pb_newsletter_button, .comment-reply-link, .form-submit input, .et_pb_bg_layout_light .et_pb_promo_button, .et_pb_bg_layout_light .et_pb_more_button, .woocommerce a.button.alt, .woocommerce-page a.button.alt, .woocommerce button.button.alt, .woocommerce-page button.button.alt, .woocommerce input.button.alt, .woocommerce-page input.button.alt, .woocommerce #respond input#submit.alt, .woocommerce-page #respond input#submit.alt, .woocommerce #content input.button.alt, .woocommerce-page #content input.button.alt, .woocommerce a.button, .woocommerce-page a.button, .woocommerce button.button, .woocommerce-page button.button, .woocommerce input.button, .woocommerce-page input.button { color: #a9d300; }
			.footer-widget h4 { color: #a9d300; }
			.et-search-form, .nav li ul, .et_mobile_menu, .footer-widget li:before, .et_pb_pricing li:before, blockquote { border-color: #a9d300; }
			.et_pb_counter_amount, .et_pb_featured_table .et_pb_pricing_heading, .et_quote_content, .et_link_content, .et_audio_content { background-color: #a9d300; }
							.container, .et_pb_row, .et_pb_slider .et_pb_container, .et_pb_fullwidth_section .et_pb_title_container, .et_pb_fullwidth_section .et_pb_title_featured_container, .et_pb_fullwidth_header:not(.et_pb_fullscreen) .et_pb_fullwidth_header_container { max-width: 960px; }
			.et_boxed_layout #page-container, .et_fixed_nav.et_boxed_layout #page-container #top-header, .et_fixed_nav.et_boxed_layout #page-container #main-header, .et_boxed_layout #page-container .container, .et_boxed_layout #page-container .et_pb_row { max-width: 1120px; }
							a { color: #209afc; }
													#top-header, #et-secondary-nav li ul { background-color: #a9d300; }
								#top-header, #top-header a { color: rgba(0,0,0,0.7); }
												
		
					#top-menu li.current-menu-ancestor > a, #top-menu li.current-menu-item > a,
			.et_color_scheme_red #top-menu li.current-menu-ancestor > a, .et_color_scheme_red #top-menu li.current-menu-item > a,
			.et_color_scheme_pink #top-menu li.current-menu-ancestor > a, .et_color_scheme_pink #top-menu li.current-menu-item > a,
			.et_color_scheme_orange #top-menu li.current-menu-ancestor > a, .et_color_scheme_orange #top-menu li.current-menu-item > a,
			.et_color_scheme_green #top-menu li.current-menu-ancestor > a, .et_color_scheme_green #top-menu li.current-menu-item > a { color: #209afc; }
													#main-footer .footer-widget h4 { color: #a9d300; }
							.footer-widget li:before { border-color: #a9d300; }
																
		
		
		@media only screen and ( min-width: 981px ) {
																																								.et-fixed-header#top-header, .et-fixed-header#top-header #et-secondary-nav li ul { background-color: #a9d300; }
																			.et-fixed-header #top-menu li.current-menu-ancestor > a,
				.et-fixed-header #top-menu li.current-menu-item > a { color: #209afc !important; }
										.et-fixed-header#top-header a { color: rgba(0,0,0,0.7); }
			
					}
		@media only screen and ( min-width: 1200px) {
			.et_pb_row { padding: 24px 0; }
			.et_pb_section { padding: 48px 0; }
			.single.et_pb_pagebuilder_layout.et_full_width_page .et_post_meta_wrapper { padding-top: 72px; }
			.et_pb_section.et_pb_section_first { padding-top: inherit; }
			.et_pb_fullwidth_section { padding: 0; }
		}
		@media only screen and ( max-width: 980px ) {
																				}
		@media only screen and ( max-width: 767px ) {
														}
	</style>

	<style class="et_one_font_languages">h1, h2, h3, h4, h5, h6, body, input, textarea, select { font-family: 'cwTeXFangSong', serif; }</style>
	
	<style id="module-customizer-css">
			</style>

	<!-- All in one Favicon 4.5 --><link rel="icon" href="../../wp-content/uploads/2013/08/favicon.png" type="image/png"/>
<link rel="apple-touch-icon-precomposed" href="../../wp-content/uploads/2013/08/favicon2.png" />
<style type="text/css" id="et-custom-css">h1, h2, h3, h4, h5, h6, body, input, textarea, select {
font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, Verdana, 'Hiragino Sans GB', 'Noto Sans CJK SC', 'Source Han Sans CN', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, sans-serif;
font-weight: 400;
}

body { 
	font-size: 16px;
	color: #1d1d1d;
	word-wrap:break-word;
	word-break: normal;
}

p {
	margin: 0.9em 0 0.5em;
	padding-bottom: 0.6em;
	font-size: 100%;
	vertical-align: baseline;
}

.et_pb_post h2 {
	font-weight: bold;
}

.et_pb_post .post-meta {
	14px "Classic Grotesque W01", Arial, sans-serif;
}

.et_pb_post {
	border-bottom: 1px solid #e2e2e2;
	padding-bottom: 20px;
}

.et_pb_post:last-of-type {
	border-bottom: 0px solid #e2e2e2;
}

#main-content .container {
	padding-top: 30px;
}

.et_right_sidebar #sidebar {
	padding-top: 30px;
}

.home #content-area #left-area {
	padding-top: 0px;
}

.single-post #content-area #left-area {
	padding-top: 30px;
}

.et_pb_post {
  margin-bottom: 40px;
}

.et_pb_post .entry-content, 
.project .entry-content {
  padding-top: 10px;
}

.widget_aboutmewidget .clearfix,
.et_pb_widget li {
	font-size: 93%;
}

.widgettitle {
	font-size: 120%;
}

.et_pb_scroll_top {
    bottom: 15px;
}

#top-menu li > a, 
.fullwidth-menu li > a {
	font-size: 14px;
	font-weight: 400;
}

#footer-bottom {
	padding: 5px 0 7px;
}

img.wp-smiley {
	max-height: 1.2em !important;
	height: 1.2em !important;
	width: 1.2em !important;
}

.wp-smileylink {
	max-width: 22px !important;
}

#left-area a:hover {
	text-decoration: underline;
}

#commentform textarea, 
#commentform input[type="text"] {
    font-size: 16px;
}

@media only screen and ( max-width: 767px ) {
	.et_pb_row, .container, .et_pb_container { width: 85%; }
	.et_pb_post h2, .et_pb_portfolio_item h2 { font-size: 24px; }
	.comment-body { padding: 0 0 25px 100px; }
}

#dynamic-to-top {
	display:none;
	overflow:hidden;
	width:auto;
	z-index:90;
	position:fixed;
	top:auto;
	left:auto;
	font-family:sans-serif;
	font-size:1em;
	color:#fff;
	text-decoration:none;
	text-shadow:0 1px 0 #333;
	font-weight:bold;
	padding:17px 16px;
	border:0px solid #000;
	background:#111;
	-webkit-background-origin:border;
	-moz-background-origin:border;
	-icab-background-origin:border;
	-khtml-background-origin:border;
	-o-background-origin:border;
	background-origin:border;
	-webkit-background-clip:padding-box;
	-moz-background-clip:padding-box;
	-icab-background-clip:padding-box;
	-khtml-background-clip:padding-box;
	-o-background-clip:padding-box;
	background-clip:padding-box;
	-webkit-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 );
	-ms-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 );
	-moz-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 );
	-o-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 );
	-khtml-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 );
	-icab-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 );
	box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 );
	-webkit-border-radius:23px;
	-moz-border-radius:23px;
	-icab-border-radius:23px;
	-khtml-border-radius:23px;
	border-radius:23px
}
#dynamic-to-top:hover {
	background:#4d4dac;
	background:#08f -webkit-gradient( linear, 0% 0%, 0% 100%, from( rgba( 255, 255, 255, .2 ) ), to( rgba( 0, 0, 0, 0 ) ) );
	background:#08f -webkit-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );
	background:#08f -khtml-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );
	background:#08f -moz-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );
	background:#08f -o-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );
	background:#08f -ms-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );
	background:#08f -icab-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );
	background:#08f linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );
	cursor:pointer
}
#dynamic-to-top:active {
	background:#111;
	background:#111 -webkit-gradient( linear, 0% 0%, 0% 100%, from( rgba( 0, 0, 0, .3 ) ), to( rgba( 0, 0, 0, 0 ) ) );
	background:#111 -webkit-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );
	background:#111 -moz-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );
	background:#111 -khtml-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );
	background:#111 -o-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );
	background:#111 -ms-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );
	background:#111 -icab-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );
	background:#111 linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) )
}
#dynamic-to-top,#dynamic-to-top:active,#dynamic-to-top:focus,#dynamic-to-top:hover {
	outline:none
}
#dynamic-to-top span {
	display:block;
	overflow:hidden;
	width:14px;
	height:12px;
	background:url("../../wp-content/plugins/dynamic-to-top/css/images/up.png" )no-repeat center center
}

.entry-content table, body.et-pb-preview #main-content .container table {
    border: 1px solid #C1C1C1;
    line-height: 1.4em;

    border-collapse: separate;
}

thead {
	background-color: #F1F1F1;
}

p#copyright {
    color: #717171;
}
</style></head>
<body class="home blog paged paged-2 et_pb_button_helper_class home-posts et_fixed_nav et_show_nav et_cover_background et_pb_gutter osx et_pb_gutters3 et_primary_nav_dropdown_animation_fade et_secondary_nav_dropdown_animation_fade et_pb_footer_columns4 et_header_style_left et_right_sidebar unknown">
	<div id="page-container">

	
		<header id="main-header" data-height-onload="66">
			<div class="container clearfix et_menu_container">
							<div class="logo_container">
					<span class="logo_helper"></span>
					<a href="../../index.html">
						<img src="../../wp-content/uploads/2015/05/logo1.png" alt="Garan no dou" id="logo" data-height-percentage="54" />
					</a>
				</div>
				<div id="et-top-navigation" data-height="66" data-fixed-height="40">
					<nav id="top-menu-nav">
											<ul id="top-menu" class="nav">
															<li class="current_page_item"><a href="../../index.html">首页</a></li>
							
							<li class="page_item page-item-34"><a href="../../about/index.html">About</a></li>
<li class="page_item page-item-41502"><a href="../../archive/index.html">Archive</a></li>
								<li class="cat-item cat-item-4"><a href="../../category/acg/index.html" >ACG</a>
</li>
	<li class="cat-item cat-item-1"><a href="../../category/other/index.html" >其他</a>
</li>
	<li class="cat-item cat-item-10"><a href="../../category/chirrup/index.html" >吐槽</a>
</li>
	<li class="cat-item cat-item-11"><a href="../../category/tec/index.html" >技术</a>
<ul class='children'>
	<li class="cat-item cat-item-30"><a href="../../category/tec/ios-tec/index.html" >iOS</a>
</li>
</ul>
</li>
	<li class="cat-item cat-item-7"><a href="../../category/daily/index.html" >日常</a>
</li>
	<li class="cat-item cat-item-12"><a href="../../category/design/index.html" >设计</a>
</li>
						</ul>
										</nav>

					
					
					<div id="et_mobile_nav_menu">
			<div class="mobile_nav closed">
				<span class="select_page">选择页面</span>
				<span class="mobile_menu_bar"></span>
			</div>
		</div>				</div> <!-- #et-top-navigation -->
			</div> <!-- .container -->
			<div class="et_search_outer">
				<div class="container et_search_form_container">
					<form role="search" method="get" class="et-search-form" action="../../index.html">
					<input type="search" class="et-search-field" placeholder="搜索 &hellip;" value="" name="s" title="搜索：" />					</form>
					<span class="et_close_search_field"></span>
				</div>
			</div>
		</header> <!-- #main-header -->

		<div id="et-main-area">
<div id="main-content">
	<div class="container">
		<div id="content-area" class="clearfix">
			<div id="left-area">
		
					<article id="post-41605" class="et_pb_post post-41605 post type-post status-publish format-standard hentry category-other">

				
															<h2><a href="../../2015/01/02/2015/index.html">2015年了呢&#8230;</a></h2>
					
					<p class="post-meta"> 由 <a href="../../author/ibireme/index.html" title="发表人 ibireme" rel="author">ibireme</a> | 2015-01-02 | <a href="../../category/other/index.html" rel="category tag">其他</a></p><p>又是新的一年了呢。。偶尔也写写年终总结之类的东西，然后顺便稍微展望一下未来吧。</p>
<p>算起来，来到帝都工作已经快三年了呢；相对于刚毕业前后那段紧张绝望迷茫的日子来说，刚过去的这一年已经算得上不错了。这一年里换了一个新工作，从 Java 转回了 iOS，上班从酒仙桥挪到了中关村，工资涨了点儿，活儿轻松了点儿。和小伙伴租的房子，一年一搬。新的房子有个面朝阳台的书房，午后的阳光很棒；书房有一个很大的书架，能放下我在这边买的所有的书。看上去，这一年过得还不错。</p>
<p>但是到底是怎样的呢？我也不知道。能说上话的人越来越少，从前的朋友和同学也都各奔东西，不再联系。朋友们有的去留学了，有的留学又回来了，有的去创业了，有的仍留在出生的城市工作。大家都有自己的圈子，即使能有空聚一聚，或者在网上聊一聊，也都没什么话题了。我自己也不太擅长与人交流吧，所以总是习惯了一个人。用村上的话来说:&#8221;哪里会有人喜欢孤独，不过是不喜欢失望罢了&#8221;。</p>
<p>2015年来了，我要做些什么呢？如果可以的话，腾出更多个人时间来做些有意思的事儿。再仔细学一下 dsp 相关的东西，希望能做出类似 GarageBand 那样的 App 吧，我想要在 iPad 上编辑和录制 midi。在屋里腾出块空间来放下我的电钢，试试看能不能捡起一些过去的技能。换一块儿好点的数位板，认真学一下数码绘，希望能创造点东西，而不是总在复制。然后，一定要多读书！想得太多读书少这肯定是不行的。我知道现在如果立下一堆计划怕是用处不大(笑)，但是不管怎么样，希望未来能更好一些吧。</p>
<p>最后还是想说一下我的第一份工作。08年我第一次注册人人网，加上了很多大学好友，玩得不亦乐乎。11年底，我拿到人人的 Offer，到人人网实习，做一些移动方面的东西。12年毕业后，便正式加入了人人网，只是转做起了 Java 后台，先后负责开发开放平台、应用中心、支付等一些项目。虽然当时由移动开发转做 Java 有点不情愿，但现在看来这让我增长了很多技能，眼界也开阔了很多。在这期间，部门的头头(给我面试机会、招我进去，算是有知遇之恩吧)走了，一同去的几个同学也先后走了，部门同事也前前后后走了很多，最后我也走了。。我在人人网玩了六年多，工作了两年多，到现在每天新鲜事儿都刷不出来几条了，多少有点感伤，稍微祝福一下人人吧。。</p>
				
					</article> <!-- .et_pb_post -->
			
					<article id="post-41560" class="et_pb_post post-41560 post type-post status-publish format-standard hentry category-ios-tec category-tec">

				
															<h2><a href="../../2014/09/16/adapted_to_iphone6/index.html">大屏 iPhone 的适配</a></h2>
					
					<p class="post-meta"> 由 <a href="../../author/ibireme/index.html" title="发表人 ibireme" rel="author">ibireme</a> | 2014-09-16 | <a href="../../category/tec/ios-tec/index.html" rel="category tag">iOS</a>, <a href="../../category/tec/index.html" rel="category tag">技术</a></p><p>自从苹果出了大屏 iPhone 后，iOS 开发也要做适配了，想必 Android 程序员正在偷着乐呢 :lol: , 这里大概总结下这几天了解到的大屏适配的注意事项。</p>
<h3>启用高分辨率模式</h3>
<p>从 Xcode6 GM 版本开始，模拟器新增了 iPhone6 和 iPhone6 Plus 两种，如果旧的工程直接跑到这两个模拟器中时，默认是&#8221;兼容模式&#8221;，即系统会简单的把内容等比例放大，显示效果有些模糊但尚可接受。此时 App 内部获取到的设备分辨率和 iPhone5 是一样的：320*568 point。</p>
<p>启用高分辨率模式有2个方法(目前我能找到的)：</p>
<p>1.添加大屏的 LaunchImage:<br />
在 Images.xcassets 里，新建或更改 LaunchImage 组，添加对应高分辨率的图片。对此，这里有一篇更详细的图文介绍：<a href="http://matthewpalmer.net/blog/2014/09/10/iphone-6-plus-launch-image-adaptive-mode/" target="_blank">How to Add a Launch Image for the iPhone 6</a>。如果想要快速测试一下新的效果，<a href="https://blog.ibireme.com/wp-content/uploads/2014/09/iPhone6LaunchBlanks.zip" target="_blank">这里</a>有3张示例图片下载。</p>
<p>2.添加 Launch Screen File<br />
Launch Screen 是 Xcode6 和 iOS8 新加的功能，它用一个 xib 文件来作为启动画面。App 在旧版 iOS 启动时，该属性会被自动忽略，不会造成异常。<br />
首先，点击 New File -&gt;iOS User Interface -&gt;Launch Screen，然后在工程设置项里启用它：</p>
<p><a href="https://blog.ibireme.com/wp-content/uploads/2014/09/LaunchFile.png"><img class="alignnone wp-image-41577" src="https://blog.ibireme.com/wp-content/uploads/2014/09/LaunchFile.png" alt="LaunchFile" width="539" height="128" srcset="https://blog.ibireme.com/wp-content/uploads/2014/09/LaunchFile.png 1078w, https://blog.ibireme.com/wp-content/uploads/2014/09/LaunchFile-300x71.png 300w" sizes="(max-width: 539px) 100vw, 539px" /></a></p>
<p>上面两处设置，只要启用任意一个即可让 App 进入高分辨率模式；但如果两处都没有设置，则 App 会回退到兼容模式。鉴于现在不少 App 还需要兼容 iOS5，而第一种方法在 iOS5 上据说可能有<a href="http://stackoverflow.com/questions/19220082/support-of-ios-5-0-icons-with-xcode-5" target="_blank">bug</a>，所以这里推荐用第二种方法。</p>
<p> <a href="../../2014/09/16/adapted_to_iphone6/index.html#more-41560" class="more-link"><span aria-label="继续阅读大屏 iPhone 的适配">（更多&hellip;）</span></a></p>
				
					</article> <!-- .et_pb_post -->
			
					<article id="post-41543" class="et_pb_post post-41543 post type-post status-publish format-standard hentry category-ios-tec category-chirrup tag-wwdc">

				
															<h2><a href="../../2014/06/03/wwdc2014/index.html">WWDC2014</a></h2>
					
					<p class="post-meta"> 由 <a href="../../author/ibireme/index.html" title="发表人 ibireme" rel="author">ibireme</a> | 2014-06-03 | <a href="../../category/tec/ios-tec/index.html" rel="category tag">iOS</a>, <a href="../../category/chirrup/index.html" rel="category tag">吐槽</a></p><p>熬夜看完了直播，新闻类的东西就去新闻网站看去吧，这里来吐槽开发相关的东西。</p>
<p>总的来说，WWDC = World Wide Developers Crying。<br />
iMessage 重新造了半个微信，iDrive 实现了 Dropbox，iCloud Mail 把 QQ 中转站弄来了、CloudKit 把一些小的云服务干掉了、出了个 Metal 把 OpenGL 换掉了、矢量地图语音导航给各种 Map 带来压力，等等。。最后，还出了一门新语言 Swift 换掉了 Objective-C！！</p>
<p>新语言 Swift 的书可以在<a href="https://itunes.apple.com/ca/book/id881256329?mt=11" target="_blank">这里</a>下载。从网站上的文档来看，苹果把所有 ObjC 和 C 的 API 都用 Swift 重新实现了一遍，并且文档里是 Swift 优先。这点上来看，下面我们该洗洗天赋点了 :?: .</p>
<p>从<a href="https://developer.apple.com/library/prerelease/ios/releasenotes/General/iOS80APIDiffs/index.html" target="_blank">iOS 8.0 API Diffs</a>里面可以看到下面一些变化：</p>
<p>1.苹果把大量基础类中的方法改成了 property。<br />
2.把大量的 id 返回值改成了 instancetype 或者实际的对象类型以适配 swift。<br />
3.增加了大量的新 Framework，包括这次重点介绍的 CloudKit、HealthKit、HomeKit、Metal、Webkit等。<br />
4.新增的 NetworkExtension 允许 App 自定义 DNS、VPN，有着完整和详细的 VPN 控制。<br />
5.新增的 NotificationsCenter 允许 App 自定义 Widget了（Android啊）。</p>
<p>因为最近自己私下里搞 Midi 合成的库，所以其他的 API 没仔细看，音频相关的 API 倒是仔细翻了一下。这次 iOS 支持完整的 MIDI 了，可以加载 sf2/dls 格式的音色库、有了 MidiSynth 支持、有了完整的 Midi CC 控制、支持 SysEx 信息。有了专门播放 Midi 的类：<a href="https://developer.apple.com/library/prerelease/ios/documentation/AVFoundation/Reference/AVMIDIPlayer_Class/index.html#//apple_ref/occ/cl/AVMIDIPlayer">AVMIDIPlayer</a>。音频处理方面，添加了混响、滤波、重采样、变调、3D音效(比如说HRTF)等等。很棒。想想我折腾我自己的库干毛啊，苹果都帮我实现了。。性能和效果上估计会比我的实现要好。。(摔)(摔)(摔) :cry: 那这样，我就抄抄 API 设计好了。。然后移植到 Android 去喵的。。</p>
<p>好困，睡觉了喵。。没吃药果然一点都不萌萌哒。。。</p>
<p>~~~~~~~~~~~~~~~~~~</p>
<p>update:后来在 iOS8 真机上试了一下，苹果原生的 midi synth 效果很渣。。就算给个好的音色库依然很渣。。之前期望太高。。</p>
				
					</article> <!-- .et_pb_post -->
			
					<article id="post-41513" class="et_pb_post post-41513 post type-post status-publish format-standard hentry category-chirrup">

				
															<h2><a href="../../2014/05/04/%E6%97%A0%E6%84%8F%E4%B9%89%E7%9A%84%E7%AC%AC%E4%BA%8C%E7%AF%87%E5%90%90%E6%A7%BD/index.html">无意义的第二篇吐槽</a></h2>
					
					<p class="post-meta"> 由 <a href="../../author/ibireme/index.html" title="发表人 ibireme" rel="author">ibireme</a> | 2014-05-04 | <a href="../../category/chirrup/index.html" rel="category tag">吐槽</a></p><p>距离无意义的第一篇吐槽已经过去3年了呢～ ;-)</p>
<p><a href="../../2013/04/25/wang-to-make-a-piano-app/index.html" target="_blank">一年前</a>，我说过想做一个钢琴的 App。看到其他 App 实现的技术那么复杂，本来是想放弃的，但后来还是没忍住，决心深入进去研究一下。后来断断续续在工作之余研究这些东西。嘛～现在终于做出了个音效比较让我满意的 demo 了。现在能支持加载 sf2 音色库、读取 mid 文件、支持部分 midi 指令、有比较好的混响效果和压缩器，可以实时调节音高和滤波效果。音效上听上去比 FingerPiano 要好了～～  :mrgreen:  这次是用纯C写的核心库，以后也可以移植到 Android 了～ 等核心库完善了，就可以下一步的界面设计和上架了。 这算是咱半年来做的比较有成就的一件事吧～～</p>
<p>一个月前，公司搬家了。原来走路十多分钟就能到公司的，现在要挤半个小时公交了。 :?: 公司新楼附近的环境比想象的要好很多啊～对面的园区很像大学，绿化超级棒，吃完午饭去散半个小时步，感觉好惬意。特斯拉的分部在那里，Musk 过来的那几天就变得好热闹。虽然我还对汽车不感兴趣，但凑热闹倒是挺有意思。再往北去就是360大楼和798了。360大楼上面隔几天就贴出一个超大超2B的宣传画，有次还放了个超大的二维码在上面，难道是专门给我这样蛋疼的人去扫的？</p>
<p>五一三天又在家宅着过去了。。好久不看新番了，漫展也好久没去了。总想腾出时间学一下画画，大学的时候为此还买了块板子，现在也落灰了。。天天码代码真的要变成码农了啊  :arrow:  不管怎样，希望以后的生活会更好吧~</p>
				
					</article> <!-- .et_pb_post -->
			
					<article id="post-41473" class="et_pb_post post-41473 post type-post status-publish format-standard hentry category-ios-tec category-tec tag-cfarray tag-cfstorage">

				
															<h2><a href="../../2014/02/17/cfarray/index.html">实现 CFArray</a></h2>
					
					<p class="post-meta"> 由 <a href="../../author/ibireme/index.html" title="发表人 ibireme" rel="author">ibireme</a> | 2014-02-17 | <a href="../../category/tec/ios-tec/index.html" rel="category tag">iOS</a>, <a href="../../category/tec/index.html" rel="category tag">技术</a></p><p>平时都在用 NSArray，但最近搞一个纯C的库，不想有太多依赖，所以想把 NSArray 的功能提取出来。NSArray 和 CFArray 是 Toll-Free bridged的，而且 CFArray 是开源的。所以这里研究了一下 CFArray 的实现，并且给出一个纯C的、无其他依赖的替代实现。</p>
<h3>苹果的实现</h3>
<p>在翻CF的源码前，我在网上找到一篇很有意思的老文章：<a href="http://ridiculousfish.com/blog/posts/array.html">http://ridiculousfish.com/blog/posts/array.html</a> (2005年)。这篇文章里面，对 CFArray 和 STL Vector 做了一次性能对比，结果如下：<br />
<a href="https://blog.ibireme.com/wp-content/uploads/2014/02/vector_results.jpg"><img class="alignnone wp-image-41475" src="https://blog.ibireme.com/wp-content/uploads/2014/02/vector_results.jpg" alt="vector_results" width="395" height="263" /></a><a href="https://blog.ibireme.com/wp-content/uploads/2014/02/cfarray_results.jpg"><img class="alignnone wp-image-41474" src="https://blog.ibireme.com/wp-content/uploads/2014/02/cfarray_results.jpg" alt="cfarray_results" width="395" height="263" /></a></p>
<p>这篇文章写于2005年，那时的 CFArray 实现的非常有意思：在 CFArray 容量超过300000左右时，消耗的时间完全变了。我很好奇的测试了一下现在系统的实现，已经跟那时的结果完全不一样了。于是我翻了一下CF的历史源码，看到了 CFArray 这些年的变化。</p>
<p>1.最开始，CFArray 底层是用 <a href="http://en.wikipedia.org/wiki/Double-ended_queue" target="_blank">deque</a>(<a href="http://zh.wikipedia.org/wiki/%E5%8F%8C%E7%AB%AF%E9%98%9F%E5%88%97" target="_blank">双端队列</a>)实现的，在头部尾部进行插入删除性能很高，但是在 deque 中间插入删除时，就需要 memmove 来挪动内存了，性能就会降下来。苹果的方法是，当 CFArray 长度超过某个数值(具体来说是262040)时，将底层的 deque 换成 <a href="http://en.wikipedia.org/wiki/Balanced_tree" target="_blank">balanced tree</a>。</p>
<p>具体来说，苹果写了一个名为 <a href="http://www.opensource.apple.com/source/CF/CF-855.11/CFStorage.h">CFStorage</a> 的类，用 balanced tree 实现了大数量的数值的存储和编辑，并且在插入和删除时有很好的性能。CFArray 在长度达到阈值(262040)时，就会在底层替换为CFStorage来完成操作。</p>
<p>2. 但是在2011年，CF-635.15中，苹果把这个特性去掉了。具体的对比可以看下面两个文件。<br />
<a href="http://opensource.apple.com/source/CF/CF-550/CFArray.c">http://opensource.apple.com/source/CF/CF-550/CFArray.c</a><br />
<a href="http://opensource.apple.com/source/CF/CF-635.15/CFArray.c">http://opensource.apple.com/source/CF/CF-635.15/CFArray.c</a> 在这之后， CFArray 就只是用简单的deque实现了，长度越大，位于中间的插入删除耗时就越长。至于为什么这么改？我也不知道。。也许是怕切换数据结构造成的时间抖动？也许是这个 feature 根本没有多少人用到？</p>
<p>3.最新的 CFArray 中，代码应该又调整了。性能比单纯的<a href="http://zh.wikipedia.org/wiki/%E5%8F%8C%E7%AB%AF%E9%98%9F%E5%88%97" target="_blank">双端队列</a>高，我猜测应该换成了一个<a href="http://zh.wikipedia.org/wiki/%E5%9C%86%E5%BD%A2%E7%BC%93%E5%86%B2%E5%8C%BA" target="_blank">环形缓冲区</a>。但是苹果还没有开源最新的代码。</p>
<h3> 我的测试和实现</h3>
<p>在我的系统(10.9.1)里面，我参考最新的 CFArray 源码实现了一个纯 C 的 deque。随后与系统CFArray做性能对比，发现在随机插入的时候，系统的CFArray仍然有更高的性能。当我把deque换成circular后再进行对比，性能就完全一致了。所以，我猜测现在系统的 CFArray 底层又换成了 <a href="http://en.wikipedia.org/wiki/Circular_buffer" target="_blank">circular</a>，只是最新的代码还没有开源出来。</p>
<p>我的实现代码放到了 <a href="https://github.com/ibireme/yy_music_base/blob/master/yy_music_base/ym_array.c" target="_blank">https://github.com/ibireme/yy_music_base/blob/master/yy_music_base/ym_array.c</a>，里面有个纯C的、简单的引用计数对象的实现，有个 CFMutableArray 和 CFMutableDictionary 的模仿实现。所有 API 都和 CoreFoundation 类似。 还没有没仔细 test，但应该没什么大问题。</p>
<p>下面是我自己的实现和CFArray的一个性能对比：除去随机数的影响，插入性能应该是一致的。<br />
<a href="https://blog.ibireme.com/wp-content/uploads/2014/02/yy_array_time_cost.png"><img class="alignnone size-full wp-image-41532" src="https://blog.ibireme.com/wp-content/uploads/2014/02/yy_array_time_cost.png" alt="yy_array_time_cost" width="219" height="222" srcset="https://blog.ibireme.com/wp-content/uploads/2014/02/yy_array_time_cost.png 219w, https://blog.ibireme.com/wp-content/uploads/2014/02/yy_array_time_cost-60x60.png 60w" sizes="(max-width: 219px) 100vw, 219px" /></a></p>
<p>&nbsp;</p>
<h3> 结论</h3>
<p>好了，现在可以回头看看苹果给出的时间复杂度的描述了：</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c6fb7c370afc102701508" class="crayon-syntax crayon-theme-familiar-mynew crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 5px; margin-bottom: 5px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
Computational Complexity
The access time for a value in the array is guaranteed to be at
worst O(lg N) for any implementation, current and future, but will
often be O(1) (constant time). Linear search operations similarly
have a worst case complexity of O(N*lg N), though typically the
bounds will be tighter, and so on. Insertion or deletion operations
will typically be linear in the number of values in the array, but
may be O(N*lg N) clearly in the worst case in some implementations.
There are no favored positions within the array for performance;
that is, it is not necessarily faster to access values with low
indices, or to insert or delete values with high indices, or
whatever.</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5c6fb7c370afc102701508-1">1</div><div class="crayon-num" data-line="crayon-5c6fb7c370afc102701508-2">2</div><div class="crayon-num" data-line="crayon-5c6fb7c370afc102701508-3">3</div><div class="crayon-num" data-line="crayon-5c6fb7c370afc102701508-4">4</div><div class="crayon-num" data-line="crayon-5c6fb7c370afc102701508-5">5</div><div class="crayon-num" data-line="crayon-5c6fb7c370afc102701508-6">6</div><div class="crayon-num" data-line="crayon-5c6fb7c370afc102701508-7">7</div><div class="crayon-num" data-line="crayon-5c6fb7c370afc102701508-8">8</div><div class="crayon-num" data-line="crayon-5c6fb7c370afc102701508-9">9</div><div class="crayon-num" data-line="crayon-5c6fb7c370afc102701508-10">10</div><div class="crayon-num" data-line="crayon-5c6fb7c370afc102701508-11">11</div><div class="crayon-num" data-line="crayon-5c6fb7c370afc102701508-12">12</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c6fb7c370afc102701508-1"><span class="crayon-i ">Computational</span><span class="crayon-h"> </span><span class="crayon-i ">Complexity</span></div><div class="crayon-line" id="crayon-5c6fb7c370afc102701508-2"><span class="crayon-i ">The</span><span class="crayon-h"> </span><span class="crayon-i ">access</span><span class="crayon-h"> </span><span class="crayon-i ">time</span><span class="crayon-h"> </span><span class="crayon-i ">for</span><span class="crayon-h"> </span><span class="crayon-i ">a</span><span class="crayon-h"> </span><span class="crayon-i ">value</span><span class="crayon-h"> </span><span class="crayon-i ">in</span><span class="crayon-h"> </span><span class="crayon-i ">the</span><span class="crayon-h"> </span><span class="crayon-i ">array</span><span class="crayon-h"> </span><span class="crayon-i ">is</span><span class="crayon-h"> </span><span class="crayon-i ">guaranteed</span><span class="crayon-h"> </span><span class="crayon-i ">to</span><span class="crayon-h"> </span><span class="crayon-i ">be</span><span class="crayon-h"> </span><span class="crayon-i ">at</span></div><div class="crayon-line" id="crayon-5c6fb7c370afc102701508-3"><span class="crayon-i ">worst</span><span class="crayon-h"> </span><span class="crayon-i ">O</span><span class="crayon-sy">(</span><span class="crayon-i ">lg</span><span class="crayon-h"> </span><span class="crayon-i ">N</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i ">for</span><span class="crayon-h"> </span><span class="crayon-i ">any</span><span class="crayon-h"> </span><span class="crayon-i ">implementation,</span><span class="crayon-h"> </span><span class="crayon-i ">current</span><span class="crayon-h"> </span><span class="crayon-i ">and</span><span class="crayon-h"> </span><span class="crayon-i ">future,</span><span class="crayon-h"> </span><span class="crayon-i ">but</span><span class="crayon-h"> </span><span class="crayon-i ">will</span></div><div class="crayon-line" id="crayon-5c6fb7c370afc102701508-4"><span class="crayon-i ">often</span><span class="crayon-h"> </span><span class="crayon-i ">be</span><span class="crayon-h"> </span><span class="crayon-i ">O</span><span class="crayon-sy">(</span><span class="crayon-i ">1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i ">constant</span><span class="crayon-h"> </span><span class="crayon-i ">time</span><span class="crayon-sy">)</span><span class="crayon-i ">.</span><span class="crayon-h"> </span><span class="crayon-i ">Linear</span><span class="crayon-h"> </span><span class="crayon-i ">search</span><span class="crayon-h"> </span><span class="crayon-i ">operations</span><span class="crayon-h"> </span><span class="crayon-i ">similarly</span></div><div class="crayon-line" id="crayon-5c6fb7c370afc102701508-5"><span class="crayon-i ">have</span><span class="crayon-h"> </span><span class="crayon-i ">a</span><span class="crayon-h"> </span><span class="crayon-i ">worst</span><span class="crayon-h"> </span><span class="crayon-i ">case</span><span class="crayon-h"> </span><span class="crayon-i ">complexity</span><span class="crayon-h"> </span><span class="crayon-i ">of</span><span class="crayon-h"> </span><span class="crayon-i ">O</span><span class="crayon-sy">(</span><span class="crayon-i ">N*lg</span><span class="crayon-h"> </span><span class="crayon-i ">N</span><span class="crayon-sy">)</span><span class="crayon-i ">,</span><span class="crayon-h"> </span><span class="crayon-i ">though</span><span class="crayon-h"> </span><span class="crayon-i ">typically</span><span class="crayon-h"> </span><span class="crayon-i ">the</span></div><div class="crayon-line" id="crayon-5c6fb7c370afc102701508-6"><span class="crayon-i ">bounds</span><span class="crayon-h"> </span><span class="crayon-i ">will</span><span class="crayon-h"> </span><span class="crayon-i ">be</span><span class="crayon-h"> </span><span class="crayon-i ">tighter,</span><span class="crayon-h"> </span><span class="crayon-i ">and</span><span class="crayon-h"> </span><span class="crayon-i ">so</span><span class="crayon-h"> </span><span class="crayon-i ">on.</span><span class="crayon-h"> </span><span class="crayon-i ">Insertion</span><span class="crayon-h"> </span><span class="crayon-i ">or</span><span class="crayon-h"> </span><span class="crayon-i ">deletion</span><span class="crayon-h"> </span><span class="crayon-i ">operations</span></div><div class="crayon-line" id="crayon-5c6fb7c370afc102701508-7"><span class="crayon-i ">will</span><span class="crayon-h"> </span><span class="crayon-i ">typically</span><span class="crayon-h"> </span><span class="crayon-i ">be</span><span class="crayon-h"> </span><span class="crayon-i ">linear</span><span class="crayon-h"> </span><span class="crayon-i ">in</span><span class="crayon-h"> </span><span class="crayon-i ">the</span><span class="crayon-h"> </span><span class="crayon-i ">number</span><span class="crayon-h"> </span><span class="crayon-i ">of</span><span class="crayon-h"> </span><span class="crayon-i ">values</span><span class="crayon-h"> </span><span class="crayon-i ">in</span><span class="crayon-h"> </span><span class="crayon-i ">the</span><span class="crayon-h"> </span><span class="crayon-i ">array,</span><span class="crayon-h"> </span><span class="crayon-i ">but</span></div><div class="crayon-line" id="crayon-5c6fb7c370afc102701508-8"><span class="crayon-i ">may</span><span class="crayon-h"> </span><span class="crayon-i ">be</span><span class="crayon-h"> </span><span class="crayon-i ">O</span><span class="crayon-sy">(</span><span class="crayon-i ">N*lg</span><span class="crayon-h"> </span><span class="crayon-i ">N</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i ">clearly</span><span class="crayon-h"> </span><span class="crayon-i ">in</span><span class="crayon-h"> </span><span class="crayon-i ">the</span><span class="crayon-h"> </span><span class="crayon-i ">worst</span><span class="crayon-h"> </span><span class="crayon-i ">case</span><span class="crayon-h"> </span><span class="crayon-i ">in</span><span class="crayon-h"> </span><span class="crayon-i ">some</span><span class="crayon-h"> </span><span class="crayon-i ">implementations.</span></div><div class="crayon-line" id="crayon-5c6fb7c370afc102701508-9"><span class="crayon-i ">There</span><span class="crayon-h"> </span><span class="crayon-i ">are</span><span class="crayon-h"> </span><span class="crayon-i ">no</span><span class="crayon-h"> </span><span class="crayon-i ">favored</span><span class="crayon-h"> </span><span class="crayon-i ">positions</span><span class="crayon-h"> </span><span class="crayon-i ">within</span><span class="crayon-h"> </span><span class="crayon-i ">the</span><span class="crayon-h"> </span><span class="crayon-i ">array</span><span class="crayon-h"> </span><span class="crayon-i ">for</span><span class="crayon-h"> </span><span class="crayon-i ">performance</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c6fb7c370afc102701508-10"><span class="crayon-i ">that</span><span class="crayon-h"> </span><span class="crayon-i ">is,</span><span class="crayon-h"> </span><span class="crayon-i ">it</span><span class="crayon-h"> </span><span class="crayon-i ">is</span><span class="crayon-h"> </span><span class="crayon-i ">not</span><span class="crayon-h"> </span><span class="crayon-i ">necessarily</span><span class="crayon-h"> </span><span class="crayon-i ">faster</span><span class="crayon-h"> </span><span class="crayon-i ">to</span><span class="crayon-h"> </span><span class="crayon-i ">access</span><span class="crayon-h"> </span><span class="crayon-i ">values</span><span class="crayon-h"> </span><span class="crayon-i ">with</span><span class="crayon-h"> </span><span class="crayon-i ">low</span></div><div class="crayon-line" id="crayon-5c6fb7c370afc102701508-11"><span class="crayon-i ">indices,</span><span class="crayon-h"> </span><span class="crayon-i ">or</span><span class="crayon-h"> </span><span class="crayon-i ">to</span><span class="crayon-h"> </span><span class="crayon-i ">insert</span><span class="crayon-h"> </span><span class="crayon-i ">or</span><span class="crayon-h"> </span><span class="crayon-i ">delete</span><span class="crayon-h"> </span><span class="crayon-i ">values</span><span class="crayon-h"> </span><span class="crayon-i ">with</span><span class="crayon-h"> </span><span class="crayon-i ">high</span><span class="crayon-h"> </span><span class="crayon-i ">indices,</span><span class="crayon-h"> </span><span class="crayon-i ">or</span></div><div class="crayon-line" id="crayon-5c6fb7c370afc102701508-12"><span class="crayon-i ">whatever.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0013 seconds] -->
<p>用开头那篇博客的话来说：Don&#8217;t second guess Apple, because Apple has already second guessed YOU.</p>
<p>&nbsp;</p>
<p><span style="color: #999999;">PS: [NSMutableArray arrayWithCapacity:xxx]中的capacity没有任何作用。。仅仅是一个hint而已。。</span></p>
				
					</article> <!-- .et_pb_post -->
			
					<article id="post-41448" class="et_pb_post post-41448 post type-post status-publish format-standard hentry category-ios-tec category-tec">

				
															<h2><a href="../../2013/11/27/objc-block/index.html">objc 中的 block</a></h2>
					
					<p class="post-meta"> 由 <a href="../../author/ibireme/index.html" title="发表人 ibireme" rel="author">ibireme</a> | 2013-11-27 | <a href="../../category/tec/ios-tec/index.html" rel="category tag">iOS</a>, <a href="../../category/tec/index.html" rel="category tag">技术</a></p><p>关于block的语法，请使劲戳这里→<a href="http://fuckingblocksyntax.com/" target="_blank">fuckingblocksyntax.com</a></p>
<p>这篇文章只记录一下block的实现，和block使用的注意事项。</p>
<p>正文：</p>
<p> <a href="../../2013/11/27/objc-block/index.html#more-41448" class="more-link"><span aria-label="继续阅读objc 中的 block">（更多&hellip;）</span></a></p>
				
					</article> <!-- .et_pb_post -->
			
					<article id="post-41432" class="et_pb_post post-41432 post type-post status-publish format-standard hentry category-ios-tec category-tec">

				
															<h2><a href="../../2013/11/26/objective-c-messaging/index.html">Objective-C 中的消息与消息转发</a></h2>
					
					<p class="post-meta"> 由 <a href="../../author/ibireme/index.html" title="发表人 ibireme" rel="author">ibireme</a> | 2013-11-26 | <a href="../../category/tec/ios-tec/index.html" rel="category tag">iOS</a>, <a href="../../category/tec/index.html" rel="category tag">技术</a></p><p><span style="font-size: 28px; font-family: helvetica; color: #ff6600;"><span style="color: #000000;">[</span><span style="color: #a9d300;">receiver</span></span><span style="font-size: 28px; font-family: helvetica; color: #ff6600;"><span style="color: #4bb6f5;"> message</span><span style="color: #000000;">];</span></span></p>
<p>objective-c的这种有趣的语法被苹果称为“发消息”。与其他面向对象语言(C++/Java)的“方法调用”不同，objc的消息机制是由运行时实现、非常灵活动态。这篇文章简单记录一下objc运行时对于消息发送和转发的实现。</p>
<p> <a href="../../2013/11/26/objective-c-messaging/index.html#more-41432" class="more-link"><span aria-label="继续阅读Objective-C 中的消息与消息转发">（更多&hellip;）</span></a></p>
				
					</article> <!-- .et_pb_post -->
			
					<article id="post-41376" class="et_pb_post post-41376 post type-post status-publish format-standard hentry category-ios-tec category-tec">

				
															<h2><a href="../../2013/11/25/objc-object/index.html">Objective-C 中的类和对象</a></h2>
					
					<p class="post-meta"> 由 <a href="../../author/ibireme/index.html" title="发表人 ibireme" rel="author">ibireme</a> | 2013-11-25 | <a href="../../category/tec/ios-tec/index.html" rel="category tag">iOS</a>, <a href="../../category/tec/index.html" rel="category tag">技术</a></p><p>Objective-C的runtime是开源的，源码可以在苹果官网下载到：<a href="http://www.opensource.apple.com/tarballs/objc4/" target="_blank">objc4</a>。</p>
<p>在objc4-532.2以后，苹果把NSObject的实现也挪进来了。想要了解NSObject底层实现终于不用去抠<a href="http://www.gnustep.org/" target="_blank">GNUstep</a>了～</p>
<p>好了，下面正文：</p>
<hr />
<h3><span style="font-size: 22px;">1.id和Class的定义</span></h3>
<p>runtime里面，声明了<span style="color: #ff9900;">id</span>和<span style="color: #ff9900;">Class</span>的类型，简化一下如下：</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c6fb7c371900727577870" class="crayon-syntax crayon-theme-familiar-mynew crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 5px; margin-bottom: 5px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
struct objc_class {
    struct objc_class *isa;
};
struct objc_object {
    struct objc_class *isa;
};

typedef struct objc_class *Class; //类  (class object)
typedef struct objc_object *id;   //对象 (instance of class)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5c6fb7c371900727577870-1">1</div><div class="crayon-num" data-line="crayon-5c6fb7c371900727577870-2">2</div><div class="crayon-num" data-line="crayon-5c6fb7c371900727577870-3">3</div><div class="crayon-num" data-line="crayon-5c6fb7c371900727577870-4">4</div><div class="crayon-num" data-line="crayon-5c6fb7c371900727577870-5">5</div><div class="crayon-num" data-line="crayon-5c6fb7c371900727577870-6">6</div><div class="crayon-num" data-line="crayon-5c6fb7c371900727577870-7">7</div><div class="crayon-num" data-line="crayon-5c6fb7c371900727577870-8">8</div><div class="crayon-num" data-line="crayon-5c6fb7c371900727577870-9">9</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c6fb7c371900727577870-1"><span class="crayon-t">struct</span><span class="crayon-h"> </span><span class="crayon-v">objc</span><span class="crayon-sy">_</span><span class="crayon-v">class</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5c6fb7c371900727577870-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">struct</span><span class="crayon-h"> </span><span class="crayon-t ">objc_class </span><span class="crayon-v">*isa</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c6fb7c371900727577870-3"><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c6fb7c371900727577870-4"><span class="crayon-t">struct</span><span class="crayon-h"> </span><span class="crayon-v">objc</span><span class="crayon-sy">_</span><span class="crayon-v">object</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5c6fb7c371900727577870-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">struct</span><span class="crayon-h"> </span><span class="crayon-t ">objc_class </span><span class="crayon-v">*isa</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c6fb7c371900727577870-6"><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5c6fb7c371900727577870-7">&nbsp;</div><div class="crayon-line" id="crayon-5c6fb7c371900727577870-8"><span class="crayon-r">typedef</span><span class="crayon-h"> </span><span class="crayon-t">struct</span><span class="crayon-h"> </span><span class="crayon-t ">objc_class </span><span class="crayon-v">*Class</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//类&nbsp;&nbsp;(class object)</span></div><div class="crayon-line" id="crayon-5c6fb7c371900727577870-9"><span class="crayon-r">typedef</span><span class="crayon-h"> </span><span class="crayon-t">struct</span><span class="crayon-h"> </span><span class="crayon-t ">objc_object </span><span class="crayon-v">*id</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">//对象 (instance of class)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p>在objc中，<span style="color: #ff9900;">id</span>代表了一个对象。根据上面的声明，<span style="color: #ff9900;">凡是首地址是*isa的struct指针，都可以被认为是objc中的对象</span>。运行时可以通过isa指针，查找到该对象是属于什么类(<span style="color: #ff9900;">Class</span>)。</p>
<p> <a href="../../2013/11/25/objc-object/index.html#more-41376" class="more-link"><span aria-label="继续阅读Objective-C 中的类和对象">（更多&hellip;）</span></a></p>
				
					</article> <!-- .et_pb_post -->
			
					<article id="post-41361" class="et_pb_post post-41361 post type-post status-publish format-standard hentry category-ios-tec category-tec">

				
															<h2><a href="../../2013/09/23/ios-third-party-libs/index.html">iOS 第三方开源库的吐槽和备忘</a></h2>
					
					<p class="post-meta"> 由 <a href="../../author/ibireme/index.html" title="发表人 ibireme" rel="author">ibireme</a> | 2013-09-23 | <a href="../../category/tec/ios-tec/index.html" rel="category tag">iOS</a>, <a href="../../category/tec/index.html" rel="category tag">技术</a></p><p><span style="color: #ff0000;">注意：这篇文章已经过期</span></p>
<p>&nbsp;</p>
<p>做iOS开发总会接触到一些第三方库，这里整理一下，做一些吐槽。</p>
<p>目前比较活跃的社区仍旧是Github，除此以外也有一些不错的库散落在Google Code、SourceForge等地方。由于Github社区太过主流，这里主要介绍一下Github里面流行的iOS库。</p>
<p>首先整理了一份<a href="http://github.ibireme.com/github/list/ios/" target="_blank">Github上排名靠前的iOS库</a>(大概600个repos)</p>
<p>除了逛一下每日/每月流行之外，也可以到<a href="https://github.com/search?l=Objective-C&amp;o=desc&amp;q=stars%3A%3E1&amp;s=stars&amp;type=Repositories" target="_blank">这里</a>来看一下整个iOS Repos的排名。</p>
<p>&nbsp;</p>
<p>下面是一些比较流行的第三方库：</p>
<p> <a href="../../2013/09/23/ios-third-party-libs/index.html#more-41361" class="more-link"><span aria-label="继续阅读iOS 第三方开源库的吐槽和备忘">（更多&hellip;）</span></a></p>
				
					</article> <!-- .et_pb_post -->
			
					<article id="post-41347" class="et_pb_post post-41347 post type-post status-publish format-standard hentry category-ios-tec category-tec">

				
															<h2><a href="../../2013/09/18/create-ios-static-framework/index.html">iOS 如何创建和使用静态库</a></h2>
					
					<p class="post-meta"> 由 <a href="../../author/ibireme/index.html" title="发表人 ibireme" rel="author">ibireme</a> | 2013-09-18 | <a href="../../category/tec/ios-tec/index.html" rel="category tag">iOS</a>, <a href="../../category/tec/index.html" rel="category tag">技术</a></p><p>iOS里可以用静态链接库和动态链接库，但由于Appstore的政策限制，上架应用只能用苹果提供的动态链接库，第三方的库只能做成静态库。这里介绍一下静态链接库的创建方法和常见的一些问题。</p>
<p>&nbsp;</p>
<p>1. 最常见的方法就是Xcode自带的模板&#8221;Cocoa Touch Static Library&#8221;。这个很好理解，苹果自己有一个<a href="https://developer.apple.com/library/ios/technotes/iOSStaticLibraries/Articles/creating.html" target="_blank">简单的教程</a>，网上也有<a href="https://www.google.com.hk/?q=iOS+static+library#q=iOS+static+library" target="_blank">大把的说明</a>。最终的结果就是一个.a文件和一堆.h头文件。用起来也相对简单：把头文件导入，关联.a静态库，就可以编译了。</p>
<p>下面是一些示例：<a href="http://open.weibo.com/wiki/SDK#iOS_SDK" target="_blank">新浪微博SDK</a>，<a href="http://open.weixin.qq.com/document/gettingstart/ios/?lang=zh_CN" target="_blank">微信SDK</a>。</p>
<p>&nbsp;</p>
<p>2.通过一些方法，将静态库打包成.framework，虽然是静态库，但使用表现上比较接近系统的动态库。目前来看这种方法比第1种好一些，所以推荐用这种方法。手动创建一个静态.framework是非常繁琐的一件事情，详细的过程可以看<a href="https://github.com/jverkoey/iOS-Framework#how-to-create-a-static-framework-for-ios" target="_blank">这里</a>或者<a href="http://blog.csdn.net/fengsh998/article/details/8290687" target="_blank">这里</a>(中文)。懒人们可以用这个已经做好的模板：<a href="https://github.com/kstenerud/iOS-Universal-Framework" target="_blank">iOS-Universal-Framework</a>。制作好后，用起来也就非常简单了，把.framework拖到工程里面就好。</p>
<p>下面是一些示例：<a href="http://developer.baidu.com/wiki/index.php?title=docs/social/sdk" target="_blank">百度分享SDK</a>，<a href="http://wiki.dev.renren.com/wiki/V2/sdk/objectivec_sdk" target="_blank">人人网SDK</a>。</p>
<p> <a href="../../2013/09/18/create-ios-static-framework/index.html#more-41347" class="more-link"><span aria-label="继续阅读iOS 如何创建和使用静态库">（更多&hellip;）</span></a></p>
				
					</article> <!-- .et_pb_post -->
			<div class='wp-pagenavi'>
<span class='pages'>第 2 页，共 5 页</span><a class="previouspostslink" rel="prev" href="../../index.html">&laquo;</a><a class="page smaller" title="第 1 页" href="../../index.html">1</a><span class='current'>2</span><a class="page larger" title="第 3 页" href="../3/index.html">3</a><a class="page larger" title="第 4 页" href="../4/index.html">4</a><a class="page larger" title="第 5 页" href="../5/index.html">5</a><a class="nextpostslink" rel="next" href="../3/index.html">&raquo;</a>
</div>			</div> <!-- #left-area -->

				<div id="sidebar">
		<div id="aboutmewidget-5" class="et_pb_widget widget_aboutmewidget"><h4 class="widgettitle">关于</h4>		<div class="clearfix">
			<img src="" id="about-image" alt="" />
			伽蓝之堂——<br />一只魔法师的工坊		</div> <!-- end about me section -->
	</div> <!-- end .et_pb_widget --><div id="text-2" class="et_pb_widget widget_text"><h4 class="widgettitle">相关链接</h4>			<div class="textwidget"><ul>
<li><a href="http://github.com/ibireme/" target="_blank">Github</a></li>
<li><a href="http://weibo.com/ibireme" target="_blank">Weibo</a></li>
<li><a href="https://twitter.com/ibireme" target="_blank">Twitter</a></li>
<li><a href="https://www.linkedin.com/in/ibireme/" target="_blank">LinkedIn</a></li>
<li><a href="http://ibireme.deviantart.com/" target="_blank">DeviantART</a></li>
</ul>
</div>
		</div> <!-- end .et_pb_widget --><div id="meta-2" class="et_pb_widget widget_meta"><h4 class="widgettitle">功能</h4>			<ul>
						<li><a href="../../wp-login.php.html">登录</a></li>
			<li><a href="../../feed/index.rss">文章<abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="../../comments/feed/index.rss">评论<abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="https://cn.wordpress.org/" title="基于WordPress，一个优美、先进的个人信息发布平台。">WordPress.org</a></li>			</ul>
			</div> <!-- end .et_pb_widget -->	</div> <!-- end #sidebar -->
		</div> <!-- #content-area -->
	</div> <!-- .container -->
</div> <!-- #main-content -->


			<footer id="main-footer">
				

		
				<div id="footer-bottom">
					<div class="container clearfix">
				
						<p id="copyright">
							Copyright 2018 ibireme
						</p>
					</div>	<!-- .container -->
				</div>
			</footer> <!-- #main-footer -->
		</div> <!-- #et-main-area -->


	</div> <!-- #page-container -->

	<!-- Baidu Analytics -->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6f3007d3fe15244980eff589f9d78063";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-43017647-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-43017647-1');
</script>
<!-- WP Audio player plugin v1.9.6 - https://www.tipsandtricks-hq.com/wordpress-audio-music-player-plugin-4556/ -->
    <script type="text/javascript">
        soundManager.useFlashBlock = true; // optional - if used, required flashblock.css
        soundManager.url = 'https://blog.ibireme.com/wp-content/plugins/compact-wp-audio-player/swf/soundmanager2.swf';
        function play_mp3(flg, ids, mp3url, volume, loops)
        {
            //Check the file URL parameter value
            var pieces = mp3url.split("|");
            if (pieces.length > 1) {//We have got an .ogg file too
                mp3file = pieces[0];
                oggfile = pieces[1];
                //set the file URL to be an array with the mp3 and ogg file
                mp3url = new Array(mp3file, oggfile);
            }

            soundManager.createSound({
                id: 'btnplay_' + ids,
                volume: volume,
                url: mp3url
            });

            if (flg == 'play') {
                    soundManager.play('btnplay_' + ids, {
                    onfinish: function() {
                        if (loops == 'true') {
                            loopSound('btnplay_' + ids);
                        }
                        else {
                            document.getElementById('btnplay_' + ids).style.display = 'inline';
                            document.getElementById('btnstop_' + ids).style.display = 'none';
                        }
                    }
                });
            }
            else if (flg == 'stop') {
    //soundManager.stop('btnplay_'+ids);
                soundManager.pause('btnplay_' + ids);
            }
        }
        function show_hide(flag, ids)
        {
            if (flag == 'play') {
                document.getElementById('btnplay_' + ids).style.display = 'none';
                document.getElementById('btnstop_' + ids).style.display = 'inline';
            }
            else if (flag == 'stop') {
                document.getElementById('btnplay_' + ids).style.display = 'inline';
                document.getElementById('btnstop_' + ids).style.display = 'none';
            }
        }
        function loopSound(soundID)
        {
            window.setTimeout(function() {
                soundManager.play(soundID, {onfinish: function() {
                        loopSound(soundID);
                    }});
            }, 1);
        }
        function stop_all_tracks()
        {
            soundManager.stopAll();
            var inputs = document.getElementsByTagName("input");
            for (var i = 0; i < inputs.length; i++) {
                if (inputs[i].id.indexOf("btnplay_") == 0) {
                    inputs[i].style.display = 'inline';//Toggle the play button
                }
                if (inputs[i].id.indexOf("btnstop_") == 0) {
                    inputs[i].style.display = 'none';//Hide the stop button
                }
            }
        }
    </script>
    <script type='text/javascript' src='../../wp-content/themes/Divi/includes/builder/scripts/frontend-builder-global-functions-ver=2.5.3.js'></script>
<script type='text/javascript' src='../../wp-content/themes/Divi/js/custom-ver=2.5.3.js'></script>
<script type='text/javascript' src='../../wp-content/themes/Divi/includes/builder/scripts/jquery.fitvids-ver=2.5.3.js'></script>
<script type='text/javascript' src='../../wp-content/themes/Divi/includes/builder/scripts/waypoints.min-ver=2.5.3.js'></script>
<script type='text/javascript' src='../../wp-content/themes/Divi/includes/builder/scripts/jquery.magnific-popup-ver=2.5.3.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var et_custom = {"ajaxurl":"https:\/\/blog.ibireme.com\/wp-admin\/admin-ajax.php","images_uri":"https:\/\/blog.ibireme.com\/wp-content\/themes\/Divi\/images","builder_images_uri":"https:\/\/blog.ibireme.com\/wp-content\/themes\/Divi\/includes\/builder\/images","et_load_nonce":"cc0e577d04","subscription_failed":"Please, check the fields below to make sure you entered the correct information.","fill":"Fill","field":"field","invalid":"Invalid email","captcha":"Captcha","prev":"Prev","previous":"\u4e0a\u4e00\u9875","next":"\u4e0b\u4e00\u9875","is_builder_plugin_used":""};
/* ]]> */
</script>
<script type='text/javascript' src='../../wp-content/themes/Divi/includes/builder/scripts/frontend-builder-scripts-ver=2.5.3.js'></script>
<script type='text/javascript' src='../../wp-includes/js/wp-embed.min-ver=4.8.8.js'></script>
</body>
</html>
